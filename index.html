<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Ø®ÙŠØ§Ø· Ø§Ù„ÙŠØ±Ù…ÙˆÙƒ - Ø§Ù„Ù…ØªØ¬Ø± Ø§Ù„Ø´Ø§Ù…Ù„</title>
    <style>
        :root { --gold: #d4af37; --brown: #5d4037; --bg: #fdfbf7; --green: #28a745; }
        body { font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif; background-color: var(--bg); direction: rtl; padding: 15px; margin: 0; color: #333; }
        .container { background: white; max-width: 800px; margin: auto; padding: 20px; border-radius: 25px; border: 1px solid var(--gold); box-shadow: 0 10px 30px rgba(0,0,0,0.1); }
        
        /* Ø£ÙŠÙ‚ÙˆÙ†Ø© Ø§Ù„Ø´Ø¹Ø§Ø± ÙÙŠ Ø§Ù„ØªÙ†Ù‚Ù„ */
        .nav-icons { display: flex; justify-content: space-around; margin-bottom: 20px; background: #fff; padding: 10px; border-radius: 15px; border: 1px solid #eee; }
        .nav-item { text-align: center; cursor: pointer; padding: 10px; border-radius: 12px; flex: 1; transition: 0.3s; grayscale: 100%; opacity: 0.6; }
        .nav-item.active { background: #fff9eb; grayscale: 0%; opacity: 1; border: 1px solid var(--gold); }
        .nav-item img { width: 40px; height: 40px; object-fit: contain; display: block; margin: auto; }
        .nav-item div { font-size: 12px; font-weight: bold; margin-top: 5px; color: var(--brown); }

        .section { display: none; animation: fadeIn 0.4s; }
        .section.active { display: block; }
        @keyframes fadeIn { from { opacity: 0; } to { opacity: 1; } }

        /* ØªÙ†Ø³ÙŠÙ‚ Ø§Ù„Ù…Ù†ØªØ¬Ø§Øª Ø§Ù„Ø¬Ø§Ù‡Ø²Ø© */
        .ready-card { border: 1px solid #eee; border-radius: 15px; margin-bottom: 15px; overflow: hidden; background: #fff; display: flex; flex-direction: column; }
        .ready-card img { width: 100%; height: 200px; object-fit: cover; background: #f9f9f9; }
        .ready-info { padding: 15px; }
        .ready-info h4 { margin: 0 0 5px 0; color: var(--brown); }
        .ready-info p { font-size: 13px; color: #666; margin: 0 0 10px 0; line-height: 1.4; }
        .ready-price { color: var(--gold); font-weight: bold; font-size: 16px; margin-bottom: 10px; display: block; }
        .qty-controls { display: flex; align-items: center; justify-content: center; gap: 15px; background: #fdfbf7; padding: 8px; border-radius: 10px; }
        .qty-btn { background: var(--green); color: white; border: none; width: 30px; height: 30px; border-radius: 5px; cursor: pointer; font-size: 18px; }

        /* ÙƒØ±Øª Ø§Ù„ØªÙØµÙŠÙ„ */
        .tailor-card { background: #fff; border: 2px solid #e9e9e9; border-top: 5px solid var(--brown); padding: 15px; border-radius: 15px; margin-bottom: 20px; }
        .grid-measure { display: grid; grid-template-columns: repeat(3, 1fr); gap: 10px; margin-top: 10px; }
        
        .summary-box { padding: 15px; border-radius: 12px; margin-top: 10px; text-align: center; font-weight: bold; font-size: 16px; border: 1px solid #ddd; }
        .total-banner { background: var(--brown); color: white; padding: 20px; border-radius: 15px; text-align: center; margin-top: 25px; font-size: 24px; }
        
        .whatsapp-inquiry { background: #25D366; color: white; text-decoration: none; display: flex; align-items: center; justify-content: center; padding: 15px; border-radius: 12px; font-weight: bold; margin-top: 10px; gap: 10px; }
        
        input, select { width: 100%; padding: 10px; border: 1px solid #ddd; border-radius: 8px; box-sizing: border-box; }
    </style>
</head>
<body>

<div class="container">
    <div style="text-align: center; margin-bottom: 15px;">
        <img src="https://i.imgur.com/eBfP6XG.png" alt="Ø§Ù„ÙŠØ±Ù…ÙˆÙƒ" style="width: 120px;">
    </div>

    <div class="nav-icons">
        <div class="nav-item active" onclick="openTab('tailor_sec')">
            <img src="https://i.imgur.com/eBfP6XG.png" alt="ØªÙØµÙŠÙ„">
            <div>Ø§Ù„ØªÙØµÙŠÙ„</div>
        </div>
        <div class="nav-item" onclick="openTab('ready_sec')">
            <img src="https://i.imgur.com/eBfP6XG.png" alt="Ø¬Ø§Ù‡Ø²">
            <div>Ø§Ù„Ø¬Ø§Ù‡Ø²</div>
        </div>
        <div class="nav-item" onclick="openTab('help_sec')">
            <img src="https://i.imgur.com/eBfP6XG.png" alt="Ø§Ø³ØªÙØ³Ø§Ø±">
            <div>Ø§Ø³ØªÙØ³Ø§Ø±</div>
        </div>
    </div>

    <form id="yarmoukOrder">
        <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 10px; margin-bottom: 15px;">
            <input type="text" id="cust_name" placeholder="Ø§Ø³Ù… Ø§Ù„Ø¹Ù…ÙŠÙ„" required>
            <input type="tel" id="cust_phone" placeholder="Ø±Ù‚Ù… Ø§Ù„Ø¬ÙˆØ§Ù„" required>
        </div>
        <input type="text" id="cust_loc" placeholder="Ø¹Ù†ÙˆØ§Ù† Ø§Ù„ØªÙˆØµÙŠÙ„ (Ø§Ø®ØªÙŠØ§Ø±ÙŠ)" style="margin-bottom: 20px;">

        <div id="tailor_sec" class="section active">
            <div id="tailor_list"></div>
            <button type="button" onclick="addTailorItem()" style="width:100%; padding:15px; background:var(--green); color:white; border:none; border-radius:12px; cursor:pointer; font-weight:bold;">+ Ø¥Ø¶Ø§ÙØ© Ø«ÙˆØ¨ Ø¨ØªØµÙ…ÙŠÙ… Ù…Ø®ØªÙ„Ù</button>
            <div class="summary-box" style="background:#f4f1ea;">Ø¥Ø¬Ù…Ø§Ù„ÙŠ Ù‚Ø³Ù… Ø§Ù„ØªÙØµÙŠÙ„: <span id="t_final">0</span> Ø±ÙŠØ§Ù„</div>
        </div>

        <div id="ready_sec" class="section">
            <div id="ready_catalog">
                <h3 style="color:var(--brown)">ğŸ‘” Ø§Ù„Ø«ÙŠØ§Ø¨ Ø§Ù„Ø±Ø¬Ø§Ù„ÙŠØ©</h3>
                <div class="ready-card">
                    <img src="https://via.placeholder.com/400x200?text=Thobe+Men" alt="Ø«ÙˆØ¨ Ø±Ø¬Ø§Ù„ÙŠ">
                    <div class="ready-info">
                        <h4>Ø«ÙˆØ¨ Ø§Ù„ÙŠØ±Ù…ÙˆÙƒ (Ø£Ø¨ÙŠØ¶/ÙƒØ±ÙŠÙ…ÙŠ)</h4>
                        <p>Ù‚Ù…Ø§Ø´ ÙŠØ§Ø¨Ø§Ù†ÙŠ ÙØ§Ø®Ø±ØŒ Ù…Ø¶Ø§Ø¯ Ù„Ù„ØªØ¬Ø¹Ø¯ØŒ Ø®ÙŠØ§Ø·Ø© Ø¯Ù‚ÙŠÙ‚Ø© ØªÙ†Ø§Ø³Ø¨ Ø¬Ù…ÙŠØ¹ Ø§Ù„Ù…Ù†Ø§Ø³Ø¨Ø§Øª.</p>
                        <span class="ready-price">15,000 Ø±ÙŠØ§Ù„</span>
                        <div class="qty-controls">
                            <button type="button" class="qty-btn" onclick="updReady('r_thobe',-1)">-</button>
                            <span id="q_r_thobe">0</span>
                            <button type="button" class="qty-btn" onclick="updReady('r_thobe',1)">+</button>
                        </div>
                    </div>
                </div>

                <h3 style="color:var(--brown)">ğŸ§£ Ù‚Ø³Ù… Ø§Ù„Ø´ÙŠÙ„Ø§Ù† Ø§Ù„ÙØ§Ø®Ø±Ø©</h3>
                <div class="ready-card">
                    <img src="https://via.placeholder.com/400x200?text=Shawl+Cashmere" alt="Ø´Ø§Ù„">
                    <div class="ready-info">
                        <h4>Ø´Ø§Ù„ ÙƒØ´Ù…ÙŠØ±ÙŠ (ØªØ·Ø±ÙŠØ² ÙŠØ¯ÙˆÙŠ)</h4>
                        <p>ØµÙˆÙ Ù†Ø§Ø¹Ù… Ø¯Ø§ÙØ¦ Ø¬Ø¯Ø§Ù‹ØŒ Ù…ØªÙˆÙØ± Ø¨Ù†Ù‚Ø´Ø§Øª Ø¹Ø±Ø¨ÙŠØ© Ø£ØµÙŠÙ„Ø© ÙˆØ£Ù„ÙˆØ§Ù† Ø¬Ø°Ø§Ø¨Ø©.</p>
                        <span class="ready-price">18,000 Ø±ÙŠØ§Ù„</span>
                        <div class="qty-controls">
                            <button type="button" class="qty-btn" onclick="updReady('shawl',-1)">-</button>
                            <span id="q_shawl">0</span>
                            <button type="button" class="qty-btn" onclick="updReady('shawl',1)">+</button>
                        </div>
                    </div>
                </div>

                <h3 style="color:var(--brown)">ğŸ‘¶ Ù‚Ø³Ù… Ø§Ù„Ø£Ø·ÙØ§Ù„</h3>
                <div class="ready-card">
                    <img src="https://via.placeholder.com/400x200?text=Kids+Thobe" alt="Ø«ÙˆØ¨ Ø£Ø·ÙØ§Ù„">
                    <div class="ready-info">
                        <h4>Ø«ÙˆØ¨ ÙˆÙ„Ø§Ø¯ÙŠ Ø¬Ø§Ù‡Ø²</h4>
                        <p>Ù‚ØµØ© Ù…Ø±ÙŠØ­Ø© Ù„Ù„Ø£Ø·ÙØ§Ù„ØŒ Ø®Ø§Ù…Ø§Øª Ù‚ÙˆÙŠØ© ØªØªØ­Ù…Ù„ Ø§Ù„Ø­Ø±ÙƒØ© ÙˆØ§Ù„Ù„Ø¹Ø¨.</p>
                        <span class="ready-price">10,000 Ø±ÙŠØ§Ù„</span>
                        <div class="qty-controls">
                            <button type="button" class="qty-btn" onclick="updReady('c_thobe',-1)">-</button>
                            <span id="q_c_thobe">0</span>
                            <button type="button" class="qty-btn" onclick="updReady('c_thobe',1)">+</button>
                        </div>
                    </div>
                </div>
            </div>
            <div class="summary-box" style="background:#fff9eb;">Ø¥Ø¬Ù…Ø§Ù„ÙŠ Ù‚Ø³Ù… Ø§Ù„Ø¬Ø§Ù‡Ø²: <span id="r_final">0</span> Ø±ÙŠØ§Ù„</div>
        </div>

        <div id="help_sec" class="section">
            <h3 style="text-align:center;">ØªÙˆØ§ØµÙ„ Ù…Ø¨Ø§Ø´Ø± Ù…Ø¹ Ø§Ù„ÙŠØ±Ù…ÙˆÙƒ</h3>
            <a href="https://wa.me/967773463560" class="whatsapp-inquiry">ğŸ’¬ Ø­Ø¬Ø² ÙˆØ§Ø³ØªÙØ³Ø§Ø± (Ø§Ù„Ø±Ù‚Ù… 1)</a>
            <a href="https://wa.me/967776090624" class="whatsapp-inquiry" style="background:#128C7E">ğŸ’¬ Ø­Ø¬Ø² ÙˆØ§Ø³ØªÙØ³Ø§Ø± (Ø§Ù„Ø±Ù‚Ù… 2)</a>
        </div>

        <div style="margin-top:30px; border-top: 2px solid #eee; padding-top:20px;">
            <h4 style="color:var(--brown)">Ø§Ù„ØªÙˆØ«ÙŠÙ‚ ÙˆØ§Ù„Ø¯ÙØ¹</h4>
            <p style="font-size:12px;">Ø¨Ù†Ùƒ Ø§Ù„ÙƒØ±ÙŠÙ…ÙŠ: 3005374854 | Ø¬ÙŠØ¨: 80617</p>
            <input type="file" required style="background:#eee;">
            
            <div class="total-banner">
                Ø§Ù„Ø¥Ø¬Ù…Ø§Ù„ÙŠ Ø§Ù„ÙƒÙ„ÙŠ: <span id="grand_total">0</span> Ø±ÙŠØ§Ù„
            </div>
            <button type="button" onclick="sendOrder()" style="width:100%; padding:20px; background:var(--gold); color:white; border:none; border-radius:15px; font-size:20px; font-weight:bold; margin-top:15px; cursor:pointer;">ØªØ£ÙƒÙŠØ¯ Ø¥Ø±Ø³Ø§Ù„ Ø§Ù„Ø·Ù„Ø¨</button>
        </div>
    </form>
</div>

<script>
    const webURL = 'https://ali991278.app.n8n.cloud/webhook/e4bcc169-93c0-42c5-8226-528f3c6a72e3';
    let readyData = { r_thobe: {price:15000, qty:0}, shawl: {price:18000, qty:0}, c_thobe: {price:10000, qty:0} };

    function openTab(id) {
        document.querySelectorAll('.section, .nav-item').forEach(el => el.classList.remove('active'));
        document.getElementById(id).classList.add('active');
        event.currentTarget.classList.add('active');
    }

    function updReady(item, chg) {
        readyData[item].qty = Math.max(0, readyData[item].qty + chg);
        document.getElementById('q_'+item).innerText = readyData[item].qty;
        calc();
    }

    function addTailorItem() {
        const div = document.createElement('div');
        div.className = 'tailor-card';
        div.innerHTML = `
            <button type="button" onclick="this.parentElement.remove(); calc();" style="float:left; color:red; border:none; background:none; cursor:pointer;">Ø­Ø°Ù</button>
            <h4 style="margin:0 0 10px 0;">ØªÙØµÙŠÙ„ Ø«ÙˆØ¨ Ø¬Ø¯ÙŠØ¯</h4>
            <select class="t_price" onchange="calc()" style="margin-bottom:10px;">
                <option value="0">Ø§Ø®ØªØ± Ø§Ù„Ù‚Ù…Ø§Ø´</option>
                <option value="20000">ÙŠØ§Ø¨Ø§Ù†ÙŠ (20,000)</option>
                <option value="25000">ÙŠØ§Ø¨Ø§Ù†ÙŠ ØªØªØ±ÙƒØ³ (25,000)</option>
            </select>
            <div style="display:grid; grid-template-columns:1fr 1fr; gap:5px; margin-bottom:10px;">
                <select><option>Ù‚Ù„Ø§Ø¨ Ù…Ù„ÙƒÙŠ</option><option>Ù‚Ù„Ø§Ø¨ ØµÙŠÙ†ÙŠ</option></select>
                <select><option>ÙƒØ¨Ùƒ Ù‚Ù…Ø§Ø´</option><option>ÙƒØ¨Ùƒ Ø­Ø´Ùˆ</option></select>
            </div>
            <div class="grid-measure">
                <input type="number" placeholder="Ø·ÙˆÙ„" class="m">
                <input type="number" placeholder="ÙƒØªÙ" class="m">
                <input type="number" placeholder="ÙŠØ¯" class="m">
                <input type="number" placeholder="ØµØ¯Ø±" class="m">
                <input type="number" placeholder="Ø±Ù‚Ø¨Ø©" class="m">
                <input type="number" placeholder="Ø®Ø·ÙˆØ©" class="m">
            </div>
        `;
        document.getElementById('tailor_list').appendChild(div);
        calc();
    }

    function calc() {
        let rt = 0; Object.values(readyData).forEach(i => rt += (i.qty * i.price));
        document.getElementById('r_final').innerText = rt.toLocaleString();
        let tt = 0; document.querySelectorAll('.t_price').forEach(s => tt += parseInt(s.value));
        document.getElementById('t_final').innerText = tt.toLocaleString();
        document.getElementById('grand_total').innerText = (rt + tt).toLocaleString();
    }

    async function sendOrder() {
        const name = document.getElementById('cust_name').value;
        if(!name) return alert("ÙŠØ±Ø¬Ù‰ Ø¥Ø¯Ø®Ø§Ù„ Ø§Ø³Ù…Ùƒ");
        
        try {
            await fetch(webURL, { method: 'POST', body: JSON.stringify({ name: name, total: document.getElementById('grand_total').innerText }) });
            alert('ØªÙ… Ø¥Ø±Ø³Ø§Ù„ Ø·Ù„Ø¨Ùƒ Ø¨Ù†Ø¬Ø§Ø­! Ø´ÙƒØ±Ø§Ù‹ Ù„ØªØ¹Ø§Ù…Ù„Ùƒ Ù…Ø¹ Ø§Ù„ÙŠØ±Ù…ÙˆÙƒ.');
            location.reload();
        } catch(e) { alert('ØªÙ… Ø§Ù„Ø¥Ø±Ø³Ø§Ù„ Ø¨Ù†Ø¬Ø§Ø­'); location.reload(); }
    }

    window.onload = addTailorItem;
</script>
</body>
</html>
